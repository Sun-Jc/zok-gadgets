
def ark<N>(field[N] mut i, field[N] c) -> field[N] {
    for u32 id in 0..N {
        i[id] = i[id] + c[id];
    }
    return i;
}

def sbox_full<N>(field[N] i) -> field[N] {
    field[N] mut o = [0; N];

    for u32 id in 0..N {
        o[id] = i[id] * i[id];
        o[id] = o[id] * o[id];
        o[id] = i[id] * o[id];
    }

    return o;
}

def sbox_partial(field i0) -> field {
    field mut o0 = i0 * i0;
    o0 = o0 * o0;
    o0 = i0 * o0;
    return o0;
}



    def mix(field[3] input) -> field[3] {
        field[3] mut o = [0; 3];
        o[0] = o[0] + input[0] * 14592161914559516814830937163504850059032242933610689562465469457717205663745;
o[0] = o[0] + input[1] * 16416182153879456416684804308942956316411273300312025757773653139931856371713;
o[0] = o[0] + input[2] * 8755297148735710088898562298102910035419345760166413737479281674630323398247;
o[1] = o[1] + input[0] * 16416182153879456416684804308942956316411273300312025757773653139931856371713;
o[1] = o[1] + input[1] * 8755297148735710088898562298102910035419345760166413737479281674630323398247;
o[1] = o[1] + input[2] * 18240202393199396018538671454381062573790303667013361953081836822146507079681;
o[2] = o[2] + input[0] * 8755297148735710088898562298102910035419345760166413737479281674630323398247;
o[2] = o[2] + input[1] * 18240202393199396018538671454381062573790303667013361953081836822146507079681;
o[2] = o[2] + input[2] * 3126891838834182174606629392179610726935480628630862049099743455225115499374;
        return o;
    }
    

def main(field[2] inputs) -> field {
    field[3] mut i = [0; 3];
    for u32 id in 0..2 {
        i[id+1] = inputs[id];
    }


// round 0
i = ark(i, [7381306200361797775709367706600947857194154063505019036446548266493630885981, 17415403610263694121490723732324438892685806867113497767998432641144370486528, 8676118545413362711065223452003623347600328411362519671813992711184596426934]);
i = sbox_full(i); 
i = mix(i);

// round 1
i = ark(i, [6331340840370193371214019358316098035126500183331241375832137654034473454567, 2673724403040873026970846264725567461187318186291832247224980632251921443773, 16010772348547708393466153471593285225030334894495481592330518296712223840824]);
i = sbox_full(i); 
i = mix(i);

// round 2
i = ark(i, [10252210328502117742818879429744005867553064120274860118283892760521179300952, 17682064649469667716355463288727287197178204928813763210631519516562763084845, 20422525400972870932185995588269086241547492999246300676804928416152623944383]);
i = sbox_full(i); 
i = mix(i);

// round 3
i = ark(i, [10534479856137912611407287324596840480552959078121021327398774175208817984993, 13227271382545827960074458133072141733369251405206932997562645986276058884105, 591641377010701185217703423337420708051297952792137421031656468965997824686]);
i = sbox_full(i); 
i = mix(i);

// round 4
i = ark(i, [6356322847698301159320835716969632494931859276707465138412879587011648802005, 2718615571263873384404591008514185952728521490932048957564873419257253629346, 16068694250872905731771769413462014436006061236556410144506403894142889862835]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 5
i = ark(i, [7441446783850600144958730159652122231755896731335280667879537646755923296466, 3275086737548827402832782495513180342843966350683681254787717514153173533636, 20346974851396034032496595296753572674389335434462452128305637282005435402726]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 6
i = ark(i, [7124847734976976758705588490790467086294895787098923376359735885818925607054, 17318528570482243013205069046834304369936728867839832392785675783616700342496, 7060394437920491418653124836557810395621337932254718643140863619381904067136]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 7
i = ark(i, [7838579028151972759145938555885405216493894473503775991517049274149371394273, 10261791002327232288100972364501879831707761093926116473481354647764893530237, 498294255048256439671200046099318175356260787943451767905868169429754841990]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 8
i = ark(i, [6104513976726391548374175422943444269908351505773888487087452638351116501300, 3412445380835518133117459802271171648485357637932371380720808542824930062631, 20768059675692939890027738320225836458032139228760305606757505054857219249070]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 9
i = ark(i, [3978578132094978545510717351992622343320469537005970144443120790781715506271, 1287987475322631938341068165864064102404522610215142871337455597878434870878, 7511177769184729689360393978617615535910169402252621033433015054614006995363]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 10
i = ark(i, [3000714717359389328079230448821879330075561622694614074257221688472502861365, 11936631589745119633033887151444595137560597011594643752543174337109150579876, 1801065365100664628526411979054341711815265197327399032214851846281194143067]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 11
i = ark(i, [5361949090410667478365638313287922357951622584300189495300619513541742886401, 16838605848198433087022899823641929173284160105912632631860444919738738206545, 6391017411615489749831191120746267104715043549271101206517304766020235412165]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 12
i = ark(i, [6158266165398702936817892989618562809126636852987002539711674527097460791862, 13880192596687760306808190728739068953759453792707954812098907061042798321608, 8156602320248221296787109909968134750038175977353332687053181628443292035995]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 13
i = ark(i, [5663765896418171727079404831147179351825843394889657096195729232046370617508, 12583654103745528313216031389109601223481539850369326523135303062870132788922, 14093127519194915494954289671768566058853450560263908954389248607835409261073]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 14
i = ark(i, [8570242114779759506299463660035701455164287537554924184231198283138073280860, 17960804278414214983368145557647892184889979856196013993477927389784892699818, 5103993286894278711503908685486369384710497976850302918524617632625579736503]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 15
i = ark(i, [7302836604034906187516908992278808670015146468703370738738516299501812809822, 10683788203223562943045305484514573006388269293648056628889620791798780827162, 4220260153253351052688293945098654736188769587248359090536492684634041667815]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 16
i = ark(i, [724345504243531266449677864931257560211640492583766024253306825181660839172, 20022162127093108187832397289834214762221439313939988706854122993467416676686, 7305296243813993524052718595526776897266124340173170062065536541147595265025]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 17
i = ark(i, [9756978511609833179591822399474954859352254781789750438267978201574310802503, 21122036961242963893514823298435722043277755169735271445183107560354048478913, 137982494843188121116866861625660203458420463179764377737812610398195992634]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 18
i = ark(i, [9875862203183915735251181761981655884605416780179400978359473386598198880060, 21504669955858310013923146300832257011539024352047759527005278328278997087998, 18746650187616944867017203565800826164614337974753857049999078483791710008775]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 19
i = ark(i, [20051680607666527172640185676704448813929753408669782205744143851401715026602, 19171672933884648029978787002139286034386101096525082189280449709413784156625, 8351553075084234863536647003126865976593181706928252759827892872300714302940]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 20
i = ark(i, [17653119266645468300373621843999632055961848761141904271681907948527599043607, 8911618657366614866574258162782768682977887102165258633876503765261489847030, 13257293544249845146030262591726715891087959305827401009813070308149942246961]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 21
i = ark(i, [20484854739807226176368345576757948634376967086000529582819397348038562701865, 4336288229406576023450995878842870632445783937371397453133180606130415913532, 9633320913600280503223507139889927593226096375243727288555553713245121526399]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 22
i = ark(i, [6329643666100677371926501103111807758216461151084035839133000773955465688317, 263425764767118353056621439812761082112306369794239006237609170983658070731, 6572606255326498376487822534158522470135547613577026179115665369622242807538]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 23
i = ark(i, [14910283696403745953097750185739815222876906589992019284393829538937864863056, 14282441477964764675649307310218140590172537899916222102974838671992574536393, 12929798456558284154622558616782533680825617694169449094085288607390897819549]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 24
i = ark(i, [2199934440883424211774851085422387428333032260525008624314626376946013639600, 16240235919021557837820600127736389854999446812641585482668592606003269070778, 8581485359262147485050459909104088603564482929284816580491178210457513036061]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 25
i = ark(i, [550195679144210693766507038859114631508802171530954160714112720276462031543, 17500172509093254486801987659067919031904382120692471877838390088735554202232, 1654890211114004904512046119779612290970339701605895160394209397041783050557]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 26
i = ark(i, [3323250101015893723303947203426734231575771304135755106528158999554040752511, 11512335764385780054221636792197489402370146738500938226756670666899707236984, 21687149951782414617769187325831005673324210909902373131619112671239365633765]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 27
i = ark(i, [12274444725376999919389955608689124346073039182512793626954822953969973322706, 18587980777040077572091775128176245982659071913027033272119950718381264753875, 21580053363614309753680428372485943792104107250189799511714754891348378260847]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 28
i = ark(i, [20358330218103829930856287501407244884756080635039540830494079126764380808695, 14168382872908832094321732213516915907203117270602574563846658919664761776597, 2542678203076559132305715108596675646337046870439110950154969864209717422604]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 29
i = ark(i, [6807167010241629104511910094659657775194193186184668896785293832121573536681, 4740548569698417727524127873696889803340085255025941638930994926913857432761, 18757489824640547487874913740465098812612841829029664011037880298483471117866]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 30
i = ark(i, [2404301451509850367463889271321003530188569042302503867018288796455624591937, 6472292612208149237307380675437915074397860051720221380035825583749300312724, 7861323477690694382793228145286800491754566628492203720148743629403022402657]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 31
i = ark(i, [2692131910809511396468858826539593921129795758539033557249031128337899913031, 4236930569131531158171095723894275994316930196975715705435358509933757820901, 19389879934438533599596214539275956139985184684147081147947505119003525631801]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 32
i = ark(i, [2371513420847278632604167179151200362434781829733126642289751331471116615976, 20795645963433101941560749907954344856799958868759844725332012637838123590207, 15506755873185920907874764567213571546341091460214780800769189201759614374101]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 33
i = ark(i, [6356634670962395275747622961981347630570428677142055666309219114219191309963, 20631256175438243921170194500302377519911598251637336626885611454084971574139, 10027551292053181166401592134772652181858338078388087432320270744292984154520]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 34
i = ark(i, [15893903137450426052105554163153012281385250347508337276553310559603454981832, 2030787536361603956537185022739659251052586272075691851248843512016073841543, 10156854657873467432597477536019682738459629187141636653637223486232956167617]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 35
i = ark(i, [9481258363232876192556656810286541283431537927135744135734405008260569834745, 20359286935769564462482376921614839834978584148202419092917083329265876645762, 17169156122474907655770526255898447875617687502503710309168637435346099421178]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 36
i = ark(i, [7201371833205630663629099067682210866862294235459498427303090498760788446121, 8056834080673053468059488705816107602462641640971175330962006901154435160003, 13008787222928268531594882750424064111511995251224380416453546312879098466484]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 37
i = ark(i, [10246538711102635602989968495505296065913363401114574100427778458120553976174, 12857446151375587661674785695212474570476576107627472463163777007307493519480, 17866403458496511703035174024951698910278787292045142242697786766776813103133]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 38
i = ark(i, [15794124776182605147688670825574495407211244994726399358267633709684166092973, 11792899713957163992967994673013780043227138026377783307047922304709269219988, 13201290202435829833952159173255394426125812718069070494716963712426234458259]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 39
i = ark(i, [18507918021731050507708687294326652020650949574282548223744272368074056290633, 13635689127062077029816166259753349697402468487801084278554032040202270641774, 8947132565953533559505381312541863966254582567106166709209481680691722111418]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 40
i = ark(i, [4408322106202011213981535684795585785162295447492700795524942214899870110270, 12416448395168704225435913272871784484553268245304928459944381424735371312440, 9308665224770121256705961365290269385793243854179469593923876451875357994550]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 41
i = ark(i, [11455303680229390989449300800357152207081609325362566581781417763092516006668, 5163365282347543137716092418503545366183558431856435324868360920594192636686, 3681900972754350821667529258980804444906710966604056823711785238722494869487]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 42
i = ark(i, [10042208539823588957009378105353723062967748719906641043705043591490595762722, 14233484244633253929223057368148372939687979684329446578239753402378060424240, 4422592302409268366338959780599827601508110112909183130138494972860157770063]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 43
i = ark(i, [2037569118255007922259729386774463788352030840368973202962593592994856801149, 104020998295848577611613047186951339855984380208489283800171390780991865829, 21223881065788106156163033165371598057608766887244917766321274186846343760334]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 44
i = ark(i, [6624715162378417768822187450785844153731191298876991441365094467589741543599, 2398718059564039175564022031711337133109103592932431436034384907258175850896, 1170274699173674521372539216624308609273167165098706070162861618958422722310]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 45
i = ark(i, [14289729663266091000646067601596902379753128629761752020536902169684424364472, 4354199204610784855394608061003511739570864999382667187538492956572614728885, 8259140735182191234422926338427106088354423448310238811301474204426254595960]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 46
i = ark(i, [18777636572007635314441707961192896890060482465891052046353067236969111694758, 8769646320252652625345364462834267674354715379737898286426664101528786845144, 18743504521487581051740824098708003832256962724415269597976685310837145293406]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 47
i = ark(i, [12766109392035953734233987638688285245621393498128281914944640918592795460221, 999017170172269319758578117681742681506424543713673204815704323895655300968, 5587482795871164284250526521635053189758049979674526430492925019255139481742]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 48
i = ark(i, [12287868493932968023435095666808449618812082271776696249609412841816658984949, 2928602266248186933953444002774973542131325851736769579769559766145021907621, 9295900095270319010080487258954296667737899847582853385595989335931194531437]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 49
i = ark(i, [1921511932815959830859617312934805723553113223069233286559033596117383051335, 13993800422792041400126303716834396406361760160440753685825834846543261409153, 4666925688897436429832210369220415727806969131419752973426726054256279805988]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 50
i = ark(i, [19612954254191968574410499255466913639148620028101258251243062287637388775227, 2780583502169346472038908779662948595694178695342704988659175690020006725159, 7879643490281490770944252792768757625419635690539215610033788186878047738213]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 51
i = ark(i, [7990383889420055354754554732834233155353933693228319028838847181886795656187, 18120324926398814414133335350737367448204208957383591745328570149502962809589, 3338705346627624282348504798438427127832595608833360084782883372950722506102]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 52
i = ark(i, [19743473381932793078569818732640315683216775356199213566587217863755770284397, 21396556380706514839678740296592675476178141432038584266794308087778577075724, 18614257160178596998205866681725923088698887193245390734460790688003878438916]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 53
i = ark(i, [5556698432546640465556388448548289627004673654510955952003776864929367778331, 10316930231960037106905068887766071993304629027305918219968531409108930076889, 324831640723111687559235904047760239528144355851586480333538538009030069441]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 54
i = ark(i, [6857349863360098696776537663618340288189275336206422786304752658699314032152, 16827497751041759734184895366294230541952530382436066446606707678783300497936, 3651438469546530970390350991033182197474318464277536551578767650447681607777]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 55
i = ark(i, [20583153041501673113090789820674513827593209599616070977758329869254188790132, 11821718206960527825261357742450236606090670623591287605752237782479351533668, 12663791320059792616839526822237058091664067625068131725398009495503431997466]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 56
i = ark(i, [4563715513129108251623557985238857145339346044039863611599759340965120108297, 5836933169377698892346301279843190173532484029313510931038376156411087901838, 18159215331011584252167486572055693992171842451691241961052161434889896571872]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 57
i = ark(i, [17345301968170458608864373365542796734950064082885449318898292115830392498239, 21870761313478378035360394461921849254274473210963382393992808419477845216780, 11637077288546712854340454283659650187687200374224225243967930147807473748714]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 58
i = ark(i, [2447121122638534854275424202513442465053977268190973113933918555728646228270, 21730217768070663188753241225713670301923233661066725675941065967806304999411, 9003298882038644244227154056628258195085897038537958330275773254055303763318]);
i[0] = sbox_partial(i[0]); 
i = mix(i);

// round 59
i = ark(i, [21790384875477912357615841574147660582293993590140465307309902143266462496372, 7201879301794569188531228720280852562256921262067676921604433841196541638167, 769327615184836424376400116435676117275488715582048697415608171235381523704]);
i = sbox_full(i); 
i = mix(i);

// round 60
i = ark(i, [12170048616815905483001112525189966779576653395388058829380066716064186504830, 1921447153626308161732114248833249385852494301143601193061954788744454830434, 18228119568723332287898309589197676344237684601886512693457808852492163768715]);
i = sbox_full(i); 
i = mix(i);

// round 61
i = ark(i, [4566967788959568066858887577108195772864831262548783978923513070793677270786, 12553636020766522596228816104382171572512747410226817263772003336312239358628, 17949430674168834782629224686449295848297724557331061778859797353661087662207]);
i = sbox_full(i); 
i = mix(i);

// round 62
i = ark(i, [15567176690760707962363430753841372635809549052573239034851812971942585493757, 16376550179579362814757631475156785358655079138402423660403950022648813209111, 2696887156770181375013560501712464363226364828548074523129117876330587362767]);
i = sbox_full(i); 
i = mix(i);

 return i[1];
}


